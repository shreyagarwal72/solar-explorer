<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Primary Meta Tags - Enhanced SEO -->
  <title>Orbit World | Interactive 3D Solar System Explorer - Explore Planets</title>
  <meta name="title" content="Orbit World | Interactive 3D Solar System Explorer - Explore Planets">
  <meta name="description" content="Explore our solar system in stunning 3D! Interactive planet explorer featuring Mercury, Venus, Earth, Mars, Jupiter, Saturn, Uranus, Neptune & Pluto. Learn about orbital periods, temperatures, moons, and fascinating space facts. Free educational astronomy tool.">
  <meta name="author" content="Vanshu Agarwal - Nextup Studio">
  <meta name="keywords" content="solar system explorer, 3D planets, interactive astronomy, space education, Mercury facts, Venus atmosphere, Earth moon, Mars exploration, Jupiter moons, Saturn rings, Uranus tilt, Neptune winds, Pluto dwarf planet, astronomy for kids, space learning, CSS animation, educational web app, planet comparison, orbital periods, planet temperatures">
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
  <meta name="googlebot" content="index, follow">
  <meta name="revisit-after" content="7 days">
  <meta name="rating" content="General">
  <meta name="language" content="English">
  <meta name="geo.region" content="IN">
  <meta name="geo.placename" content="India">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://orbitworld.app/">
  
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="apple-touch-icon" href="/favicon.svg">
  
  <!-- Preconnect for performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  <link rel="dns-prefetch" href="https://images.unsplash.com">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://orbitworld.app/">
  <meta property="og:title" content="Orbit World | Interactive 3D Solar System Explorer">
  <meta property="og:description" content="Explore our solar system in stunning 3D! Interactive planet explorer with detailed facts about all 9 planets. Free educational astronomy tool.">
  <meta property="og:image" content="https://images.unsplash.com/photo-1614732414444-096e5f1122d5?w=1200&h=630&fit=crop">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="Orbit World Solar System Explorer">
  <meta property="og:site_name" content="Orbit World">
  <meta property="og:locale" content="en_US">
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Orbit World | Interactive 3D Solar System Explorer">
  <meta name="twitter:description" content="Explore our solar system in stunning 3D! Interactive planet explorer with detailed facts about all 9 planets.">
  <meta name="twitter:image" content="https://images.unsplash.com/photo-1614732414444-096e5f1122d5?w=1200&h=630&fit=crop">
  <meta name="twitter:creator" content="@vanshuagarwal">
  
  <!-- Google Site Verification -->
  <meta name="google-site-verification" content="KYowygvsrbCJwszF1adTZ1WltiKdP6Mvx_YMChVKKBQ" />
  
  <!-- Theme Color -->
  <meta name="theme-color" content="#0d0d1a">
  <meta name="msapplication-TileColor" content="#0d0d1a">
  <meta name="msapplication-navbutton-color" content="#f39041">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Orbit World">
  
  <!-- Structured Data - Enhanced -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Orbit World",
    "alternateName": "Solar System Explorer",
    "description": "An interactive 3D solar system explorer featuring all planets with detailed information about orbital periods, temperatures, moons, and fascinating space facts",
    "url": "https://orbitworld.app",
    "applicationCategory": "EducationalApplication",
    "operatingSystem": "Any",
    "browserRequirements": "Requires JavaScript, CSS3, HTML5",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "creator": {
      "@type": "Person",
      "name": "Vanshu Agarwal",
      "url": "https://vanshubhai.vercel.app"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Nextup Studio",
      "logo": {
        "@type": "ImageObject",
        "url": "https://orbitworld.app/favicon.svg"
      }
    },
    "screenshot": "https://images.unsplash.com/photo-1614732414444-096e5f1122d5?w=1200&h=630&fit=crop",
    "featureList": ["Interactive 3D planets", "Planet facts and statistics", "Moon information", "Keyboard navigation", "Ambient space sounds", "Guided tour mode"],
    "keywords": "solar system, planets, astronomy, education, space exploration"
  }
  </script>
  
  <!-- FAQ Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [{
      "@type": "Question",
      "name": "What is Orbit World?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Orbit World is an interactive 3D solar system explorer that lets you explore all planets from Mercury to Pluto with detailed information about each celestial body."
      }
    }, {
      "@type": "Question",
      "name": "How many planets are in Orbit World?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Orbit World features 9 celestial bodies: Mercury, Venus, Earth, Mars, Jupiter, Saturn, Uranus, Neptune, and the dwarf planet Pluto."
      }
    }]
  }
  </script>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>
<!-- Device Detection Script -->
  <script>
    // Detect device and handle seamless switching
    (function() {
      const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth <= 768;
      const urlParams = new URLSearchParams(window.location.search);
      const forceDesktop = urlParams.get('desktop') === 'true';
      const forceMobile = urlParams.get('mobile') === 'true';
      
      // Store preference in sessionStorage
      if (forceDesktop) {
        sessionStorage.setItem('orbitWorldView', 'desktop');
      } else if (forceMobile) {
        sessionStorage.setItem('orbitWorldView', 'mobile');
      }
      
      const savedPreference = sessionStorage.getItem('orbitWorldView');
      
      // Redirect logic
      if (isMobile && savedPreference !== 'desktop' && !forceDesktop) {
        window.location.href = 'mobile.html';
      }
    })();
  </script>

  <!-- Loading Screen -->
  <div class="loader">
    <div class="loader-planet"></div>
    <div class="loader-ring"></div>
    <div class="loader-text">Launching into Space...</div>
  </div>

  <!-- Nebula Effect -->
  <div class="nebula">
    <div class="nebula-cloud nebula-1"></div>
    <div class="nebula-cloud nebula-2"></div>
    <div class="nebula-cloud nebula-3"></div>
  </div>

  <!-- Starfield Background with Parallax -->
  <div class="starfield">
    <div class="stars stars-small"></div>
    <div class="stars stars-medium"></div>
    <div class="stars stars-large"></div>
    <!-- Shooting Stars -->
    <div class="shooting-star"></div>
    <div class="shooting-star shooting-star-2"></div>
    <div class="shooting-star shooting-star-3"></div>
    <div class="shooting-star shooting-star-4"></div>
    <div class="shooting-star shooting-star-5"></div>
  </div>

  <!-- Guided Tour Controls -->
  <div class="tour-controls">
    <button class="tour-btn" id="tourToggle" title="Start guided tour">
      <i class="fa fa-play" id="tourIcon"></i>
    </button>
    <span class="tour-label">Tour</span>
    <div class="tour-progress" id="tourProgress">
      <div class="tour-progress-bar" id="tourProgressBar"></div>
    </div>
  </div>

  <!-- Tour Info Popup -->
  <div class="tour-info" id="tourInfo">
    <div class="tour-info-content">
      <span class="tour-planet-name" id="tourPlanetName">Earth</span>
      <span class="tour-planet-fact" id="tourPlanetFact">Our home planet</span>
    </div>
  </div>

  <!-- AI Assistant Controls -->
  <div class="ai-controls">
    <button class="ai-btn" id="aiToggle" title="Toggle AI Assistant">
      <i class="fa fa-rocket" id="aiIcon"></i>
    </button>
    <span class="ai-label">AI Guide</span>
  </div>

  <!-- AI Chat Panel -->
  <div class="ai-chat-panel" id="aiChatPanel">
    <div class="ai-chat-header">
      <div class="ai-header-info">
        <i class="fa fa-rocket"></i>
        <span>Orbit World AI</span>
      </div>
      <button class="ai-close-btn" id="aiCloseBtn">
        <i class="fa fa-times"></i>
      </button>
    </div>
    <div class="ai-chat-messages" id="aiChatMessages">
      <div class="ai-message ai-bot">
        <div class="ai-avatar"><i class="fa fa-rocket"></i></div>
        <div class="ai-text">Welcome to Orbit World! I'm your AI space guide. Ask me anything about the planets, our solar system, or how to use this interactive explorer!</div>
      </div>
    </div>
    <div class="ai-chat-input-wrapper">
      <input type="text" class="ai-chat-input" id="aiChatInput" placeholder="Ask about planets, the solar system..." />
      <button class="ai-send-btn" id="aiSendBtn">
        <i class="fa fa-paper-plane"></i>
      </button>
    </div>
    <div class="ai-quick-questions">
      <button class="ai-quick-btn" data-question="Tell me about the current planet I'm viewing">Current Planet</button>
      <button class="ai-quick-btn" data-question="What are the website features?">Website Features</button>
      <button class="ai-quick-btn" data-question="What is the largest planet?">Largest Planet</button>
    </div>
  </div>

  <!-- Audio Controls -->
  <div class="audio-controls">
    <button class="audio-btn" id="audioToggle" title="Toggle ambient sound">
      <i class="fa fa-volume-off" id="audioIcon"></i>
    </button>
    <span class="audio-label">Sound</span>
  </div>

  <!-- Keyboard Controls Hint -->
  <div class="keyboard-hint">
    <span><i class="fa fa-arrow-up"></i><i class="fa fa-arrow-down"></i> Navigate Planets</span>
  </div>

  <h1 class='logo'>
    Orbit World
    <span>Explore the Solar System</span>
  </h1>


  <!-- Creator Info -->
  <a href="https://vanshubhai.vercel.app" target="_blank" rel="noopener noreferrer" class="creator-info">
    <span class="creator-label">Created by</span>
    <span class="creator-name">Vanshu Agarwal</span>
  </a>

  <!-- Navigation Links -->
  <div class="nav-links">
    <a href="compare.html" class="nav-link" title="Compare Planets">
      <i class="fa fa-th-large"></i>
      <span>Compare</span>
    </a>
    <a href="mobile.html" class="nav-link mobile-link" title="Mobile Version">
      <i class="fa fa-mobile"></i>
      <span>Mobile</span>
    </a>
  </div>

  <!-- Copyright -->
  <div class="copyright">
    © 2025 Nextup Studio. All Rights Reserved.
  </div>

  <input class='planet9' id='pluto' type='radio' name='planet'>
  <label class='menu pluto' for='pluto'>
    <div class='preview'></div>
    <div class='info'>
      <h2>
        <div class='pip'></div>
        Pluto
      </h2>
      <h3>39.5 AU</h3>
    </div>
  </label>
  <input class='planet8' id='neptune' type='radio' name='planet'>
  <label class='menu neptune' for='neptune'>
    <div class='preview'></div>
    <div class='info'>
      <h2>
        <div class='pip'></div>
        Neptune
      </h2>
      <h3>30.06 AU</h3>
    </div>
  </label>
  <input class='planet7' id='uranus' type='radio' name='planet'>
  <label class='menu uranus' for='uranus'>
    <div class='preview'></div>
    <div class='info'>
      <h2>
        <div class='pip'></div>
        Uranus
      </h2>
      <h3>19.18 AU</h3>
    </div>
  </label>
  <input class='planet6' id='saturn' type='radio' name='planet'>
  <label class='menu saturn' for='saturn'>
    <div class='preview'></div>
    <div class='info'>
      <h2>
        <div class='pip'></div>
        Saturn
      </h2>
      <h3>9.539 AU</h3>
    </div>
  </label>
  <input class='planet5' id='jupiter' type='radio' name='planet'>
  <label class='jupiter menu' for='jupiter'>
    <div class='preview'></div>
    <div class='info'>
      <h2>
        <div class='pip'></div>
        Jupiter
      </h2>
      <h3>5.203 AU</h3>
    </div>
  </label>
  <input class='planet4' id='mars' type='radio' name='planet'>
  <label class='mars menu' for='mars'>
    <div class='preview'></div>
    <div class='info'>
      <h2>
        <div class='pip'></div>
        Mars
      </h2>
      <h3>1.524 AU</h3>
    </div>
  </label>
  <input class='planet3' id='earth' type='radio' name='planet' checked='checked'>
  <label class='earth menu' for='earth'>
    <div class='preview'></div>
    <div class='info'>
      <h2>
        <div class='pip'></div>
        Earth
      </h2>
      <h3>1 AU</h3>
    </div>
  </label>
  <input class='planet2' id='venus' type='radio' name='planet'>
  <label class='menu venus' for='venus'>
    <div class='preview'></div>
    <div class='info'>
      <h2>
        <div class='pip'></div>
        Venus
      </h2>
      <h3>0.723 AU</h3>
    </div>
  </label>
  <input class='planet1' id='mercury' type='radio' name='planet'>
  <label class='menu mercury' for='mercury'>
    <div class='preview'></div>
    <div class='info'>
      <h2>
        <div class='pip'></div>
        Mercury
      </h2>
      <h3>0.39 AU</h3>
    </div>
  </label>
  <div class='solar'>
    <div class='solar_systm'>
      <div class='mercury planet'>
        <div class='mercury planet_description'>
          <h2>Planet</h2>
          <h1>Mercury</h1>
          <div class="planet-stats">
            <div class="stat"><span class="stat-label">Diameter</span><span class="stat-value">4,879 km</span></div>
            <div class="stat"><span class="stat-label">Temperature</span><span class="stat-value">-180°C to 430°C</span></div>
            <div class="stat"><span class="stat-label">Orbital Period</span><span class="stat-value">88 Earth days</span></div>
          </div>
          <p>The closest planet to the sun. It circles the sun faster than all the other planets, which is why Romans named it after their swift-footed messenger god.</p>
          <label for='readMercury'>
            <a>
              Read Mor
              <span>e</span>
            </a>
          </label>
        </div>
        <div class='overlay'></div>
      </div>
    </div>
    <div class='solar_systm'>
      <div class='planet venus'>
        <div class='planet_description venus'>
          <h2>Planet</h2>
          <h1>Venus</h1>
          <div class="planet-stats">
            <div class="stat"><span class="stat-label">Diameter</span><span class="stat-value">12,104 km</span></div>
            <div class="stat"><span class="stat-label">Temperature</span><span class="stat-value">465°C (avg)</span></div>
            <div class="stat"><span class="stat-label">Orbital Period</span><span class="stat-value">225 Earth days</span></div>
          </div>
          <p>Named for the Roman goddess of love and beauty. In ancient times, Venus was often thought to be two different stars, the evening star and the morning star.</p>
          <label for='readVenus'>
            <a>
              Read Mor
              <span>e</span>
            </a>
          </label>
        </div>
        <div class='overlay'></div>
      </div>
    </div>
    <div class='solar_systm'>
      <div class='earth planet'>
        <div class='moon moon'>
          <h3>Moon</h3>
          <h2>Moon</h2>
        </div>
        <div class='m trajectory'></div>
        <div class='earth planet_description'>
          <h2>Planet</h2>
          <h1>Earth</h1>
          <div class="planet-stats">
            <div class="stat"><span class="stat-label">Diameter</span><span class="stat-value">12,742 km</span></div>
            <div class="stat"><span class="stat-label">Temperature</span><span class="stat-value">15°C (avg)</span></div>
            <div class="stat"><span class="stat-label">Atmosphere</span><span class="stat-value">N₂, O₂</span></div>
          </div>
          <p>Earth, our home. It is the only planet known to have an atmosphere containing free oxygen, oceans of liquid water on its surface, and, of course, life.</p>
          <label for='readEarth'>
            <a>
              Read Mor
              <span>e</span>
            </a>
          </label>
        </div>
        <div class='overlay'></div>
      </div>
    </div>
    <div class='solar_systm'>
      <div class='mars planet'>
        <div class='deimos moon'>
          <h3>Moon</h3>
          <h2>Deimos</h2>
        </div>
        <div class='d trajectory'></div>
        <div class='moon phoebos'>
          <h3>Moon</h3>
          <h2>Phoebos</h2>
        </div>
        <div class='p trajectory'></div>
        <div class='mars planet_description'>
          <h2>Planet</h2>
          <h1>Mars</h1>
          <div class="planet-stats">
            <div class="stat"><span class="stat-label">Diameter</span><span class="stat-value">6,779 km</span></div>
            <div class="stat"><span class="stat-label">Temperature</span><span class="stat-value">-65°C (avg)</span></div>
            <div class="stat"><span class="stat-label">Moons</span><span class="stat-value">2</span></div>
          </div>
          <p>Fourth planet from the Sun and the second smallest planet in the solar system. Named after the Roman god of war often described as the "Red Planet".</p>
          <label for='readMars'>
            <a>
              Read Mor
              <span>e</span>
            </a>
          </label>
        </div>
        <div class='overlay'></div>
      </div>
    </div>
    <div class='solar_systm'>
      <div class='jupiter planet'>
        <div class='lo moon'>
          <h3>Moon</h3>
          <h2>Io</h2>
        </div>
        <div class='europa moon'>
          <h3>Moon</h3>
          <h2>Europa</h2>
        </div>
        <div class='ganymede moon'>
          <h3>Moon</h3>
          <h2>Ganymede</h2>
        </div>
        <div class='lop trajectory'></div>
        <div class='eu trajectory'></div>
        <div class='ga trajectory'></div>
        <div class='jupiter planet_description'>
          <h2>Planet</h2>
          <h1>Jupiter</h1>
          <div class="planet-stats">
            <div class="stat"><span class="stat-label">Diameter</span><span class="stat-value">139,820 km</span></div>
            <div class="stat"><span class="stat-label">Temperature</span><span class="stat-value">-110°C</span></div>
            <div class="stat"><span class="stat-label">Moons</span><span class="stat-value">95+</span></div>
          </div>
          <p>Jupiter is the largest planet in the solar system. Fittingly, it was named after the king of the gods in Roman mythology.</p>
          <label for='readJupiter'>
            <a>
              Read Mor
              <span>e</span>
            </a>
          </label>
        </div>
        <div class='overlay'></div>
      </div>
    </div>
    <div class='solar_systm'>
      <div class='planet saturn'>
        <div class='saturn-rings'></div>
        <div class='moon titan'>
          <h3>Moon</h3>
          <h2>Titan</h2>
        </div>
        <div class='dione moon'>
          <h3>Moon</h3>
          <h2>Dione</h2>
        </div>
        <div class='enceladus moon'>
          <h3>Moon</h3>
          <h2>Enceladus</h2>
        </div>
        <div class='ti trajectory'></div>
        <div class='di trajectory'></div>
        <div class='enc trajectory'></div>
        <div class='planet_description saturn'>
          <h2>Planet</h2>
          <h1>Saturn</h1>
          <div class="planet-stats">
            <div class="stat"><span class="stat-label">Diameter</span><span class="stat-value">116,460 km</span></div>
            <div class="stat"><span class="stat-label">Ring Span</span><span class="stat-value">282,000 km</span></div>
            <div class="stat"><span class="stat-label">Moons</span><span class="stat-value">146</span></div>
          </div>
          <p>Saturn is the sixth planet from the sun and the second largest planet in the solar system. Saturn was the Roman name for Cronus, the lord of the Titans.</p>
          <label for='readSaturn'>
            <a>
              Read Mor
              <span>e</span>
            </a>
          </label>
        </div>
        <div class='overlay'></div>
      </div>
    </div>
    <div class='solar_systm'>
      <div class='planet uranus'>
        <div class='miranda moon'>
          <h3>Moon</h3>
          <h2>Miranda</h2>
        </div>
        <div class='ariel moon'>
          <h3>Moon</h3>
          <h2>Ariel</h2>
        </div>
        <div class='moon umbriel'>
          <h3>Moon</h3>
          <h2>Umbriel</h2>
        </div>
        <div class='mir trajectory'></div>
        <div class='ari trajectory'></div>
        <div class='trajectory umb'></div>
        <div class='planet_description uranus'>
          <h2>Planet</h2>
          <h1>Uranus</h1>
          <div class="planet-stats">
            <div class="stat"><span class="stat-label">Diameter</span><span class="stat-value">50,724 km</span></div>
            <div class="stat"><span class="stat-label">Axial Tilt</span><span class="stat-value">98°</span></div>
            <div class="stat"><span class="stat-label">Moons</span><span class="stat-value">28</span></div>
          </div>
          <p>The first planet to be discovered by scientists. The planet is notable for its dramatic tilt, which causes its axis to point nearly directly at the sun.</p>
          <label for='readUranus'>
            <a>
              Read Mor
              <span>e</span>
            </a>
          </label>
        </div>
        <div class='overlay'></div>
      </div>
    </div>
    <div class='solar_systm'>
      <div class='neptune planet'>
        <div class='moon triton'>
          <h3>Moon</h3>
          <h2>Triton</h2>
        </div>
        <div class='moon proteus'>
          <h3>Moon</h3>
          <h2>Proteus</h2>
        </div>
        <div class='moon nereid'>
          <h3>Moon</h3>
          <h2>Nereid</h2>
        </div>
        <div class='trajectory tri'></div>
        <div class='pro trajectory'></div>
        <div class='ner trajectory'></div>
        <div class='neptune planet_description'>
          <h2>Planet</h2>
          <h1>Neptune</h1>
          <div class="planet-stats">
            <div class="stat"><span class="stat-label">Diameter</span><span class="stat-value">49,244 km</span></div>
            <div class="stat"><span class="stat-label">Wind Speed</span><span class="stat-value">2,100 km/h</span></div>
            <div class="stat"><span class="stat-label">Moons</span><span class="stat-value">16</span></div>
          </div>
          <p>Neptune is the eighth and farthest known planet from the Sun. Named after the Roman god of the sea due to its striking blue color.</p>
          <label for='readNeptune'>
            <a>
              Read Mor
              <span>e</span>
            </a>
          </label>
        </div>
        <div class='overlay'></div>
      </div>
    </div>
    <div class='solar_systm'>
      <div class='planet pluto'>
        <div class='planet_description pluto'>
          <h2>Dwarf planet</h2>
          <h1>Pluto</h1>
          <div class="planet-stats">
            <div class="stat"><span class="stat-label">Diameter</span><span class="stat-value">2,377 km</span></div>
            <div class="stat"><span class="stat-label">Temperature</span><span class="stat-value">-230°C</span></div>
            <div class="stat"><span class="stat-label">Orbital Period</span><span class="stat-value">248 years</span></div>
          </div>
          <p>Pluto, once considered the ninth and most distant planet from the sun, is now the largest known dwarf planet in the solar system.</p>
          <label for='readPluto'>
            <a>
              Read Mor
              <span>e</span>
            </a>
          </label>
        </div>
        <div class='overlay'></div>
      </div>
    </div>
  </div>
  <input class='read' id='readMercury' type='radio' name='mercuryRead'>
  <label class='closeBig' for='closeMercury'></label>
  <input class='read' id='closeMercury' type='radio' name='mercuryRead'>
  <div class='panel'>
    <h1>Mercury</h1>
    <div class="panel-stats">
      <div class="panel-stat"><i class="fa fa-globe"></i> Diameter: 4,879 km</div>
      <div class="panel-stat"><i class="fa fa-thermometer"></i> Temperature: -180°C to 430°C</div>
      <div class="panel-stat"><i class="fa fa-clock-o"></i> Day Length: 59 Earth days</div>
      <div class="panel-stat"><i class="fa fa-moon-o"></i> Moons: 0</div>
    </div>
    <p>Mercury is the closest planet to the sun. As such, it circles the sun faster than all the other planets, which is why Romans named it after their swift-footed messenger god.</p>
    <p>The Sumerians also knew of Mercury since at least 5,000 years ago. It was often associated with Nabu, the god of writing. Mercury was also given separate names for its appearance as both a morning star and as an evening star.</p>
    <img src='https://i2.wp.com/www.astronomytrek.com/wp-content/uploads/2012/11/mercury-1.jpg?fit=678%2C381&ssl=1' alt='Mercury surface'>
    <h2>A year on Mercury is just 88 days long.</h2>
    <p>One solar day on Mercury lasts the equivalent of 176 Earth days while the sidereal day lasts 59 Earth days. Mercury is nearly tidally locked to the Sun.</p>
    <h2>Mercury is the smallest planet in the Solar System.</h2>
    <p>One of five planets visible with the naked eye, Mercury is just 4,879 kilometres across its equator, compared with 12,742 kilometres for the Earth.</p>
    <h2>Mercury is the second densest planet.</h2>
    <p>Each cubic centimetre has a density of 5.4 grams, with only the Earth having a higher density. This is largely due to Mercury being composed mainly of heavy metals and rock.</p>
    <br>
  </div>
  <input class='read' id='readVenus' type='radio' name='venusRead'>
  <label class='closeBig' for='closeVenus'></label>
  <input class='read' id='closeVenus' type='radio' name='venusRead'>
  <div class='panel'>
    <h1>Venus</h1>
    <div class="panel-stats">
      <div class="panel-stat"><i class="fa fa-globe"></i> Diameter: 12,104 km</div>
      <div class="panel-stat"><i class="fa fa-thermometer"></i> Temperature: 465°C</div>
      <div class="panel-stat"><i class="fa fa-cloud"></i> Atmosphere: 96% CO₂</div>
      <div class="panel-stat"><i class="fa fa-moon-o"></i> Moons: 0</div>
    </div>
    <p>Venus, the second planet from the sun, is named for the Roman goddess of love and beauty. The planet may have been named for the most beautiful deity of her pantheon because it shone the brightest of the five planets known to ancient astronomers.</p>
    <p>In ancient times, Venus was often thought to be two different stars, the evening star and the morning star — that is, the ones that first appeared at sunset and sunrise.</p>
    <img src='https://3c1703fe8d.site.internapcdn.net/newman/gfx/news/hires/2014/2-whatistheave.jpg' alt='Venus atmosphere'>
    <h2>A day on Venus lasts longer than a year.</h2>
    <p>It takes 243 Earth days to rotate once on its axis. The planet's orbit around the Sun takes 225 Earth days.</p>
    <h2>Venus rotates in the opposite direction.</h2>
    <p>This means that Venus is rotating in the opposite direction to the Sun, also known as retrograde rotation.</p>
    <h2>Venus is the second brightest object in the night sky.</h2>
    <p>Only the Moon is brighter. Venus is so bright it can be seen during daytime on a clear day.</p>
    <br>
  </div>
  <input class='read' id='readEarth' type='radio' name='earthRead'>
  <label class='closeBig' for='closeEarth'></label>
  <input class='read' id='closeEarth' type='radio' name='earthRead'>
  <div class='panel'>
    <h1>Earth</h1>
    <div class="panel-stats">
      <div class="panel-stat"><i class="fa fa-globe"></i> Diameter: 12,742 km</div>
      <div class="panel-stat"><i class="fa fa-thermometer"></i> Temperature: 15°C (avg)</div>
      <div class="panel-stat"><i class="fa fa-tint"></i> Water Coverage: 71%</div>
      <div class="panel-stat"><i class="fa fa-moon-o"></i> Moons: 1</div>
    </div>
    <p>Earth, our home, is the third planet from the sun. It is the only planet known to have an atmosphere containing free oxygen, oceans of liquid water on its surface, and, of course, life.</p>
    <img src='https://images.pexels.com/photos/414171/pexels-photo-414171.jpeg?auto=compress&cs=tinysrgb&h=350' alt='Earth from space'>
    <h2>The Earth's rotation is gradually slowing.</h2>
    <p>This deceleration is happening at approximately 17 milliseconds per hundred years. It could be 140 million years before the length of a day increases to 25 hours.</p>
    <h2>Earth has a powerful magnetic field.</h2>
    <p>This phenomenon is caused by the nickel-iron core of the planet, coupled with its rapid rotation. This field protects the Earth from the effects of solar wind.</p>
    <h2>There is only one natural satellite of Earth.</h2>
    <p>The Moon is the largest satellite of any planet in our solar system as a percentage of the size of the body it orbits.</p>
    <br>
  </div>
  <input class='read' id='readMars' type='radio' name='marsRead'>
  <label class='closeBig' for='closeMars'></label>
  <input class='read' id='closeMars' type='radio' name='marsRead'>
  <div class='panel'>
    <h1>Mars</h1>
    <div class="panel-stats">
      <div class="panel-stat"><i class="fa fa-globe"></i> Diameter: 6,779 km</div>
      <div class="panel-stat"><i class="fa fa-thermometer"></i> Temperature: -65°C</div>
      <div class="panel-stat"><i class="fa fa-clock-o"></i> Day Length: 24h 37m</div>
      <div class="panel-stat"><i class="fa fa-moon-o"></i> Moons: 2</div>
    </div>
    <p>Mars is the fourth planet from the sun. Befitting the red planet's bloody color, the Romans named it after their god of war.</p>
    <img src='https://1.bp.blogspot.com/-ou7Je3OVg6U/WYtxDqjNp_I/AAAAAAAACSQ/fsopS5VtFg4bmlv8hQNfiRYfJqTygCotQCLcBGAs/s2048/Martian%2Blandscape%2Bby%2BAmante%2BLombardi.jpg' alt='Mars landscape'>
    <h2>Mars and Earth have approximately the same landmass.</h2>
    <p>Even though Mars has only 15% of the Earth's volume, around two thirds of the Earth's surface is covered in water.</p>
    <h2>Mars is home to the tallest mountain in the solar system.</h2>
    <p>Olympus Mons, a shield volcano, is 21km high and 600km in diameter.</p>
    <h2>Mars has the largest dust storms in the solar system.</h2>
    <p>They can last for months and cover the entire planet.</p>
    <br>
  </div>
  <input class='read' id='readJupiter' type='radio' name='jupiterRead'>
  <label class='closeBig' for='closeJupiter'></label>
  <input class='read' id='closeJupiter' type='radio' name='jupiterRead'>
  <div class='panel'>
    <h1>Jupiter</h1>
    <div class="panel-stats">
      <div class="panel-stat"><i class="fa fa-globe"></i> Diameter: 139,820 km</div>
      <div class="panel-stat"><i class="fa fa-thermometer"></i> Temperature: -110°C</div>
      <div class="panel-stat"><i class="fa fa-clock-o"></i> Day Length: 9h 56m</div>
      <div class="panel-stat"><i class="fa fa-moon-o"></i> Moons: 95+</div>
    </div>
    <p>Jupiter is the largest planet in the solar system. Fittingly, it was named after the king of the gods in Roman mythology.</p>
    <img src='http://hanaleikauaivacation.com/wp-content/uploads/parser/jupiter-landscape-1.jpg' alt='Jupiter'>
    <h2>Jupiter is the fourth brightest object in the solar system.</h2>
    <p>Only the Sun, Moon and Venus are brighter. It is one of five planets visible to the naked eye from Earth.</p>
    <h2>Jupiter has the shortest day of all the planets.</h2>
    <p>It turns on its axis once every 9 hours and 55 minutes. The rapid rotation causes the planet to be flattened at the poles.</p>
    <h2>Jupiter has unique cloud features.</h2>
    <p>The upper atmosphere is divided into cloud belts and zones. They are made primarily of ammonia crystals, sulfur, and mixtures of the two compounds.</p>
    <br>
  </div>
  <input class='read' id='readSaturn' type='radio' name='saturnRead'>
  <label class='closeBig' for='closeSaturn'></label>
  <input class='read' id='closeSaturn' type='radio' name='saturnRead'>
  <div class='panel'>
    <h1>Saturn</h1>
    <div class="panel-stats">
      <div class="panel-stat"><i class="fa fa-globe"></i> Diameter: 116,460 km</div>
      <div class="panel-stat"><i class="fa fa-circle-o"></i> Ring Span: 282,000 km</div>
      <div class="panel-stat"><i class="fa fa-clock-o"></i> Day Length: 10h 42m</div>
      <div class="panel-stat"><i class="fa fa-moon-o"></i> Moons: 146</div>
    </div>
    <p>Saturn is the sixth planet from the Sun and the second largest planet in the solar system. Saturn was the Roman name for Cronus, the lord of the Titans.</p>
    <img src='https://solarsystem.nasa.gov/system/stellar_items/image_files/38_saturn_1600x900.jpg' alt='Saturn'>
    <h2>Saturn has the most extensive rings in the solar system.</h2>
    <p>The rings are made mostly of chunks of ice and carbonaceous dust. They stretch out more than 120,700 km from the planet but are only about 20 meters thick.</p>
    <h2>Saturn has 146 known moons.</h2>
    <p>Titan, the largest, comprises more than 90% of the mass in orbit around Saturn, including the rings.</p>
    <h2>Saturn is the flattest planet.</h2>
    <p>Its polar diameter is 90% of its equatorial diameter, due to low density and fast rotation.</p>
    <br>
  </div>
  <input class='read' id='readUranus' type='radio' name='uranusRead'>
  <label class='closeBig' for='closeUranus'></label>
  <input class='read' id='closeUranus' type='radio' name='uranusRead'>
  <div class='panel'>
    <h1>Uranus</h1>
    <div class="panel-stats">
      <div class="panel-stat"><i class="fa fa-globe"></i> Diameter: 50,724 km</div>
      <div class="panel-stat"><i class="fa fa-thermometer"></i> Temperature: -224°C</div>
      <div class="panel-stat"><i class="fa fa-refresh"></i> Axial Tilt: 98°</div>
      <div class="panel-stat"><i class="fa fa-moon-o"></i> Moons: 28</div>
    </div>
    <p>Uranus is the seventh planet from the Sun. It's not visible to the naked eye, and became the first planet discovered with the use of a telescope.</p>
    <img src='https://solarsystem.nasa.gov/system/stellar_items/image_files/69_uranus_redspot.jpg' alt='Uranus'>
    <h2>Uranus turns on its axis once every 17 hours, 14 minutes.</h2>
    <p>The planet rotates in a retrograde direction, opposite to the way Earth and most other planets turn.</p>
    <h2>Uranus makes one trip around the Sun every 84 Earth years.</h2>
    <p>During some parts of its orbit one or the other of its poles point directly at the Sun and get about 42 years of direct sunlight.</p>
    <h2>Uranus is often referred to as an "ice giant" planet.</h2>
    <p>Like other gas giants, it has a hydrogen upper layer, which has helium mixed in. Below that is an icy "mantle," which surrounds a rock and ice core.</p>
    <br>
  </div>
  <input class='read' id='readNeptune' type='radio' name='neptuneRead'>
  <label class='closeBig' for='closeNeptune'></label>
  <input class='read' id='closeNeptune' type='radio' name='neptuneRead'>
  <div class='panel'>
    <h1>Neptune</h1>
    <div class="panel-stats">
      <div class="panel-stat"><i class="fa fa-globe"></i> Diameter: 49,244 km</div>
      <div class="panel-stat"><i class="fa fa-thermometer"></i> Temperature: -214°C</div>
      <div class="panel-stat"><i class="fa fa-wind"></i> Wind Speed: 2,100 km/h</div>
      <div class="panel-stat"><i class="fa fa-moon-o"></i> Moons: 16</div>
    </div>
    <p>Neptune is the eighth and farthest known planet from the Sun. It was the first planet located through mathematical predictions rather than regular observations of the sky.</p>
    <img src='https://solarsystem.nasa.gov/system/stellar_items/image_files/90_neptune_702.jpg' alt='Neptune'>
    <h2>Neptune has the strongest winds in the Solar System.</h2>
    <p>Winds whip clouds of frozen methane across the planet at speeds of more than 2,000 km/hour.</p>
    <h2>Neptune is the smallest of the ice giants.</h2>
    <p>Despite being smaller than Uranus, Neptune has a greater mass. Below its heavy atmosphere, Uranus is made of layers of hydrogen, helium, and methane gases.</p>
    <h2>Neptune has a very thin collection of rings.</h2>
    <p>They are likely made up of ice particles mixed with dust grains and possibly coated with a carbon-based substance.</p>
    <br>
  </div>
  <input class='read' id='readPluto' type='radio' name='plutoRead'>
  <label class='closeBig' for='closePluto'></label>
  <input class='read' id='closePluto' type='radio' name='plutoRead'>
  <div class='panel'>
    <h1>Pluto</h1>
    <div class="panel-stats">
      <div class="panel-stat"><i class="fa fa-globe"></i> Diameter: 2,377 km</div>
      <div class="panel-stat"><i class="fa fa-thermometer"></i> Temperature: -230°C</div>
      <div class="panel-stat"><i class="fa fa-clock-o"></i> Orbital Period: 248 years</div>
      <div class="panel-stat"><i class="fa fa-moon-o"></i> Moons: 5</div>
    </div>
    <p>Pluto, once considered the ninth planet, is now classified as a dwarf planet. It was discovered in 1930 by Clyde Tombaugh at the Lowell Observatory.</p>
    <img src='https://solarsystem.nasa.gov/system/stellar_items/image_files/780_pluto_702.jpg' alt='Pluto'>
    <h2>Pluto was reclassified from a planet to a dwarf planet in 2006.</h2>
    <p>This occurred when the IAU created a new definition for "planet" that Pluto didn't meet.</p>
    <h2>Pluto has five known moons.</h2>
    <p>The largest is Charon, discovered in 1978. It is so big that Pluto and Charon are sometimes referred to as a double dwarf planet system.</p>
    <h2>Pluto has an eccentric and inclined orbit.</h2>
    <p>It takes 248 Earth years for Pluto to complete one orbit around the Sun. Its orbital path doesn't lie in the same plane as the eight planets.</p>
    <br>
  </div>

  <!-- JavaScript for Keyboard Controls, Audio, Guided Tour & AI -->
  <script>
    // Configuration
    const SUPABASE_URL = 'https://otfdkkomxoxdneekcdfc.supabase.co';
    const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im90ZmRra29teG94ZG5lZWtjZGZjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ3OTI2MDYsImV4cCI6MjA4MDM2ODYwNn0.9z_Ttm3KUzJzl3j094NYkonZy4aKDzK-8ikkcNSXoGw';

    // Planet data
    const planets = ['mercury', 'venus', 'earth', 'mars', 'jupiter', 'saturn', 'uranus', 'neptune', 'pluto'];
    const planetFacts = {
      mercury: { name: 'Mercury', fact: 'Closest to the Sun, fastest orbit' },
      venus: { name: 'Venus', fact: 'Hottest planet, rotates backwards' },
      earth: { name: 'Earth', fact: 'Our home, the blue marble' },
      mars: { name: 'Mars', fact: 'The Red Planet, has the tallest volcano' },
      jupiter: { name: 'Jupiter', fact: 'Largest planet, Great Red Spot' },
      saturn: { name: 'Saturn', fact: 'Beautiful rings, 146 moons' },
      uranus: { name: 'Uranus', fact: 'Tilted on its side, ice giant' },
      neptune: { name: 'Neptune', fact: 'Strongest winds, deep blue color' },
      pluto: { name: 'Pluto', fact: 'Dwarf planet, heart-shaped glacier' }
    };
    
    // Get current planet index
    function getCurrentPlanetIndex() {
      for (let i = 0; i < planets.length; i++) {
        const radio = document.getElementById(planets[i]);
        if (radio && radio.checked) return i;
      }
      return 2;
    }

    // Get current planet name
    function getCurrentPlanetName() {
      return planets[getCurrentPlanetIndex()];
    }
    
    // Navigate to planet
    function navigateToPlanet(index) {
      if (index >= 0 && index < planets.length) {
        const radio = document.getElementById(planets[index]);
        if (radio) {
          radio.click();
          updateTourInfo(planets[index]);
        }
      }
    }
    
    // Update tour info
    function updateTourInfo(planet) {
      const info = planetFacts[planet];
      if (info) {
        document.getElementById('tourPlanetName').textContent = info.name;
        document.getElementById('tourPlanetFact').textContent = info.fact;
      }
    }
    
    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
      // Don't navigate if typing in AI chat
      if (e.target.id === 'aiChatInput') return;
      
      const currentIndex = getCurrentPlanetIndex();
      if (e.key === 'ArrowUp' || e.key === 'ArrowLeft') {
        e.preventDefault();
        navigateToPlanet(currentIndex - 1);
      } else if (e.key === 'ArrowDown' || e.key === 'ArrowRight') {
        e.preventDefault();
        navigateToPlanet(currentIndex + 1);
      } else if (e.key === ' ' || e.key === 'Spacebar') {
        e.preventDefault();
        document.getElementById('tourToggle').click();
      }
    });
    
    // ===== IMPROVED AUDIO SYSTEM =====
    const audioToggle = document.getElementById('audioToggle');
    const audioIcon = document.getElementById('audioIcon');
    let audioContext = null;
    let audioNodes = null;
    let isAudioPlaying = false;
    
    function createAmbientSound() {
      try {
        audioContext = new (window.AudioContext || window.webkitAudioContext)();
        
        // Master gain for volume control
        const masterGain = audioContext.createGain();
        masterGain.gain.setValueAtTime(0, audioContext.currentTime);
        masterGain.connect(audioContext.destination);
        
        // Create oscillators for layered ambient sound
        const oscillators = [];
        const frequencies = [55, 82.5, 110, 165]; // A1, E2, A2, E3 for space drone
        
        frequencies.forEach((freq, i) => {
          const osc = audioContext.createOscillator();
          const oscGain = audioContext.createGain();
          
          osc.type = i < 2 ? 'sine' : 'triangle';
          osc.frequency.setValueAtTime(freq, audioContext.currentTime);
          oscGain.gain.setValueAtTime(0.03 - (i * 0.005), audioContext.currentTime);
          
          osc.connect(oscGain);
          oscGain.connect(masterGain);
          osc.start();
          
          oscillators.push({ osc, gain: oscGain });
        });
        
        // Add noise for texture
        const noiseBuffer = audioContext.createBuffer(1, audioContext.sampleRate * 2, audioContext.sampleRate);
        const noiseData = noiseBuffer.getChannelData(0);
        for (let i = 0; i < noiseData.length; i++) {
          noiseData[i] = Math.random() * 2 - 1;
        }
        
        const noiseSource = audioContext.createBufferSource();
        noiseSource.buffer = noiseBuffer;
        noiseSource.loop = true;
        
        const noiseFilter = audioContext.createBiquadFilter();
        noiseFilter.type = 'lowpass';
        noiseFilter.frequency.setValueAtTime(300, audioContext.currentTime);
        
        const noiseGain = audioContext.createGain();
        noiseGain.gain.setValueAtTime(0.02, audioContext.currentTime);
        
        noiseSource.connect(noiseFilter);
        noiseFilter.connect(noiseGain);
        noiseGain.connect(masterGain);
        noiseSource.start();
        
        // LFO for subtle movement
        const lfo = audioContext.createOscillator();
        const lfoGain = audioContext.createGain();
        lfo.frequency.setValueAtTime(0.05, audioContext.currentTime);
        lfoGain.gain.setValueAtTime(3, audioContext.currentTime);
        lfo.connect(lfoGain);
        lfoGain.connect(oscillators[0].osc.frequency);
        lfo.start();
        
        audioNodes = { masterGain, oscillators, noiseSource, lfo };
        
        // Fade in
        masterGain.gain.linearRampToValueAtTime(1, audioContext.currentTime + 1);
        
        return true;
      } catch (e) {
        console.error('Audio creation failed:', e);
        return false;
      }
    }
    
    audioToggle.addEventListener('click', async function() {
      if (isAudioPlaying) {
        // Fade out and suspend
        if (audioNodes && audioContext) {
          audioNodes.masterGain.gain.linearRampToValueAtTime(0, audioContext.currentTime + 0.5);
          setTimeout(() => {
            if (audioContext && audioContext.state === 'running') {
              audioContext.suspend();
            }
          }, 600);
        }
        audioIcon.className = 'fa fa-volume-off';
        audioToggle.classList.remove('playing');
      } else {
        if (!audioContext) {
          if (createAmbientSound()) {
            audioIcon.className = 'fa fa-volume-up';
            audioToggle.classList.add('playing');
          }
        } else {
          await audioContext.resume();
          audioNodes.masterGain.gain.linearRampToValueAtTime(1, audioContext.currentTime + 0.5);
          audioIcon.className = 'fa fa-volume-up';
          audioToggle.classList.add('playing');
        }
      }
      isAudioPlaying = !isAudioPlaying;
    });
    
    // ===== GUIDED TOUR SYSTEM =====
    const tourToggle = document.getElementById('tourToggle');
    const tourIcon = document.getElementById('tourIcon');
    const tourInfo = document.getElementById('tourInfo');
    const tourProgressBar = document.getElementById('tourProgressBar');
    let isTourActive = false;
    let tourInterval = null;
    let currentTourIndex = 0;
    const tourDuration = 5000;
    
    function startTour() {
      isTourActive = true;
      tourIcon.className = 'fa fa-pause';
      tourToggle.classList.add('active');
      tourInfo.classList.add('visible');
      currentTourIndex = getCurrentPlanetIndex();
      
      updateTourInfo(planets[currentTourIndex]);
      updateProgress();
      
      tourInterval = setInterval(() => {
        currentTourIndex = (currentTourIndex + 1) % planets.length;
        navigateToPlanet(currentTourIndex);
        updateProgress();
      }, tourDuration);
    }
    
    function stopTour() {
      isTourActive = false;
      tourIcon.className = 'fa fa-play';
      tourToggle.classList.remove('active');
      tourInfo.classList.remove('visible');
      if (tourInterval) {
        clearInterval(tourInterval);
        tourInterval = null;
      }
    }
    
    function updateProgress() {
      const progress = ((currentTourIndex + 1) / planets.length) * 100;
      tourProgressBar.style.width = progress + '%';
    }
    
    tourToggle.addEventListener('click', function() {
      if (isTourActive) {
        stopTour();
      } else {
        startTour();
      }
    });
    
    // ===== AI ASSISTANT SYSTEM =====
    const aiToggle = document.getElementById('aiToggle');
    const aiChatPanel = document.getElementById('aiChatPanel');
    const aiCloseBtn = document.getElementById('aiCloseBtn');
    const aiChatInput = document.getElementById('aiChatInput');
    const aiSendBtn = document.getElementById('aiSendBtn');
    const aiChatMessages = document.getElementById('aiChatMessages');
    let isAiPanelOpen = false;
    
    function toggleAiPanel() {
      isAiPanelOpen = !isAiPanelOpen;
      aiChatPanel.classList.toggle('visible', isAiPanelOpen);
      aiToggle.classList.toggle('active', isAiPanelOpen);
      if (isAiPanelOpen) {
        aiChatInput.focus();
      }
    }
    
    aiToggle.addEventListener('click', toggleAiPanel);
    aiCloseBtn.addEventListener('click', toggleAiPanel);
    
    function formatBoldText(text) {
      // Convert **text** to <strong>text</strong>
      return text.replace(/\*\*([^*]+)\*\*/g, '<strong>$1</strong>');
    }
    
    function addMessage(text, isUser = false) {
      const messageDiv = document.createElement('div');
      messageDiv.className = `ai-message ${isUser ? 'ai-user' : 'ai-bot'}`;
      const formattedText = isUser ? text : formatBoldText(text);
      messageDiv.innerHTML = `
        <div class="ai-avatar"><i class="fa ${isUser ? 'fa-user' : 'fa-rocket'}"></i></div>
        <div class="ai-text">${formattedText}</div>
      `;
      aiChatMessages.appendChild(messageDiv);
      aiChatMessages.scrollTop = aiChatMessages.scrollHeight;
      return messageDiv;
    }
    
    function addTypingIndicator() {
      const typingDiv = document.createElement('div');
      typingDiv.className = 'ai-message ai-bot ai-typing';
      typingDiv.innerHTML = `
        <div class="ai-avatar"><i class="fa fa-rocket"></i></div>
        <div class="ai-text"><span class="typing-dots"><span>.</span><span>.</span><span>.</span></span></div>
      `;
      aiChatMessages.appendChild(typingDiv);
      aiChatMessages.scrollTop = aiChatMessages.scrollHeight;
      return typingDiv;
    }
    
    async function sendAiMessage(message) {
      if (!message.trim()) return;
      
      addMessage(message, true);
      aiChatInput.value = '';
      
      const typingIndicator = addTypingIndicator();
      
      try {
        const response = await fetch(`${SUPABASE_URL}/functions/v1/orbit-ai-chat`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${SUPABASE_ANON_KEY}`,
          },
          body: JSON.stringify({
            message: message,
            context: { currentPlanet: getCurrentPlanetName() }
          }),
        });
        
        typingIndicator.remove();
        
        if (!response.ok) {
          const errorData = await response.json();
          addMessage(errorData.error || 'Sorry, I encountered an error. Please try again.');
          return;
        }
        
        const data = await response.json();
        addMessage(data.response);
      } catch (error) {
        typingIndicator.remove();
        console.error('AI chat error:', error);
        addMessage('Unable to connect to the AI service. Please check your connection and try again.');
      }
    }
    
    aiSendBtn.addEventListener('click', () => sendAiMessage(aiChatInput.value));
    aiChatInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') sendAiMessage(aiChatInput.value);
    });
    
    // Quick question buttons
    document.querySelectorAll('.ai-quick-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        sendAiMessage(btn.dataset.question);
      });
    });
    
    // ===== READ MORE AI INTEGRATION =====
    // When read more panel opens, show AI suggestion
    document.querySelectorAll('input[name$="Read"]').forEach(input => {
      input.addEventListener('change', function() {
        if (this.id.startsWith('read') && this.checked) {
          const planetName = this.id.replace('read', '');
          // Auto-suggest AI when opening read more
          if (!isAiPanelOpen) {
            setTimeout(() => {
              const aiSuggestion = document.createElement('div');
              aiSuggestion.className = 'ai-panel-suggestion';
              aiSuggestion.innerHTML = `
                <button onclick="document.getElementById('aiToggle').click(); sendAiMessage('Tell me more interesting facts about ${planetName}'); this.parentElement.remove();">
                  <i class="fa fa-rocket"></i> Ask AI about ${planetName}
                </button>
              `;
              const panel = this.nextElementSibling?.nextElementSibling?.nextElementSibling;
              if (panel && panel.classList.contains('panel') && !panel.querySelector('.ai-panel-suggestion')) {
                panel.insertBefore(aiSuggestion, panel.firstChild.nextSibling);
              }
            }, 300);
          }
        }
      });
    });
    
    // Initialize
    updateTourInfo(planets[getCurrentPlanetIndex()]);
    
    if (window.innerWidth <= 768) {
      const keyboardHint = document.querySelector('.keyboard-hint');
      if (keyboardHint) keyboardHint.style.display = 'none';
    }
    
    document.querySelectorAll('input[name="planet"]').forEach(radio => {
      radio.addEventListener('change', function() {
        if (isTourActive && !tourInterval) return;
        updateTourInfo(this.id);
      });
    });
  </script>
</body>
</html>
